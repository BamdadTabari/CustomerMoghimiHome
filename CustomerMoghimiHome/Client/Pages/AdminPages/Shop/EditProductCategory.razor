@page "/pc-pc-cp-cp==cppc-edit/{Id}"
<PageTitle>Edit</PageTitle>

<AuthorizeView Roles="Admin" Context="authContext">
    <Authorized>
        <MudStack Justify="Justify.Center" Class="bg-color-melo">
            <MudContainer Class="object-center" MaxWidth="MaxWidth.ExtraLarge">
                <MudPaper Outlined="true">
                    <MudForm Class="m-5" ValidationDelay="0">
                        <MudSelect T="string" @bind-Value="ImageSelectedValue" For="@(()=> model.ImagePath)" Label="Please Choose The Image">
                            @{
                                foreach (var item in imagesList)
                                {
                                    <MudSelectItem T="string" Value="item.Path">
                                        <MudImage Src="@item.Path" />
                                    </MudSelectItem>
                                }
                            }
                        </MudSelect>
                        <MudTextField T="string" Label="Product Category Name" For="@(()=> model.CategoryName)" Required="true"
                                      Validation="@model.CategoryName" @bind-Value="model.CategoryName" />
                        <MudTextField T="string" Label="Product Category Description" For="@(()=> model.CategoryDescription)" Required="true" Lines="5"
                                      Validation="@model.CategoryDescription" @bind-Value="model.CategoryDescription" />
                        <MudSelect T="string" Label="Tags" MultiSelection="true" @bind-Value="value" @bind-SelectedValues="options">
                            @foreach (var tag in tagList)
                            {
                                <MudSelectItem T="string" Value="@tag.Tag">@tag.Tag</MudSelectItem>
                            }
                        </MudSelect>
                    </MudForm>
                    <MudButton @onclick="Update" Variant="Variant.Filled" Color="Color.Success" Class="m-5">
                        Update Product Category
                    </MudButton>
                </MudPaper>
            </MudContainer>
        </MudStack>
    </Authorized>
    <NotAuthorized>
        <HasNoAdminAccess />
    </NotAuthorized>
</AuthorizeView>